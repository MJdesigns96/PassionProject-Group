@model IEnumerable<PassionProject.Models.Artist>

@{
    ViewData["Title"] = "Artists";
}

<h1>Artists</h1>

<div class="row crudButton">
    <form method="get" action="/ArtistsPage/Create">
        <input type="submit" value="Create New" class="btn-primary" />
    </form>
</div>
<div href="row">
    @foreach (var Artist in Model)
    {
        <div>
            <h1><a href="/ArtistsPage/Details/@Artist.ArtistId">@Artist.ArtistName</a></h1>
            <div>@Artist.Cards</div>
        </div>
    }
</div>

<script type="text/javascript">
    var userAuthorized = @User.Identity.IsAuthenticated.ToString().ToLower();
    if (!userAuthorized) {
        var crudbuttons = document.querySelectorAll(".crudButton");
        crudbuttons.forEach(btn => {
            btn.style.display = "none";
        })
    }
</script>